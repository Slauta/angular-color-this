/*! angular-color-this - v1.0.0 - 2015-05-16
* http://eknowles.com
* Copyright (c) 2015 ; Licensed  */

angular.module("ngColorThis",[]).factory("Color",function(){function a(a){var c,d,e,f,g,h,i="",j=-5;a=a.toString();for(var k=a.length-1;k>=0;k--)for(var l=a.charCodeAt(k).toString().split(""),m=l.length-1;m>=0;m--){var n=l[m]-j;4>n&&(n=parseInt(n)+4),i+=Math.pow(n*Math.round(n/2),8)}return i.length%3===0&&(i=i.split("").reverse().join("")),f=Math.floor(i.length/3),g=2*f,h=i.length-3,c=b(i[f],i[f+1],i[f+2]),d=b(i[g],i[g+1],i[g+2]),e=b(i[h],i[h+1],i[h+2]),"rgb("+c+", "+d+", "+e+")"}function b(a,b,c){for(var d=parseInt(a+b+c);d>255;)d=Math.round(d/5);return d}return{convert:a,toVal:b}}).directive("colorThis",["Color",function(a){return{restrict:"A",scope:{color:"="},link:function(b,c,d,e){b.$watch("color",function(b,e){b&&c.css(d.colorThis,a.convert(b))},!0)}}}]);